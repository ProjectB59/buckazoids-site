<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>üîí Buckazoids Secret</title>

  <!-- Retro arcade pixel font -->
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet"/>

  <style>
    :root {
      --neon: #f77f00;
      --glow: rgba(247,127,0,0.8);
      --bg: #0a0c13;
      --panel: #1b2a3d;
      --text: #e0e0e0;
    }
    /* reset & base */
    * { margin:0; padding:0; box-sizing:border-box }
    body {
      background: var(--bg);
      color: var(--text);
      font-family: 'Press Start 2P', cursive;
      min-height: 100vh;
      overflow-x: hidden;
      position: relative;
      padding: 2rem 1rem;
      text-align: center;
    }
    /* CRT scanlines */
    body::before {
      content: "";
      position: fixed; inset:0;
      background:
        repeating-linear-gradient(0deg, rgba(255,255,255,0.03) 0 1px, transparent 1px 2px),
        repeating-linear-gradient(90deg, rgba(255,255,255,0.03) 0 1px, transparent 1px 2px);
      z-index: -2;
    }
    body::after {
      content: "";
      position: fixed; inset:0;
      background: repeating-linear-gradient(rgba(0,0,0,0.05) 0 1px, transparent 1px 3px);
      z-index: -1;
    }
    /* neon flicker */
    @keyframes neon-flicker {
      0%,18%,20%,22%,24%,54%,56%,100% { opacity:1 }
      19%,23%,55%                     { opacity:.4 }
    }

    /* floating neon squares background */
    .floaters { position:absolute; inset:0; pointer-events:none; overflow:hidden; z-index:-3 }
    .floaters div {
      position:absolute;
      width:8px; height:8px;
      background: var(--neon);
      opacity:.2;
      animation: drift 10s linear infinite;
    }
    @keyframes drift {
      0%   { transform: translate3d(var(--x),var(--y),0) scale(0); }
      50%  { opacity:.5; }
      100% { transform: translate3d(calc(var(--x)+var(--dx)),calc(var(--y)+var(--dy)),0) scale(1); opacity:0; }
    }

    /* controllers behind the scenes */
    #controller-container {
      position:absolute; inset:0;
      pointer-events:none; z-index:-2;
    }
    .controller {
      position:absolute;
      width:60px; height:auto;
      opacity:.15;
      cursor:pointer;
      pointer-events:auto;
      transition: opacity .2s;
    }
    .controller:hover { opacity:.4; }
    .controller.special {
      filter: hue-rotate(25deg) saturate(1.5) brightness(1.1);
      opacity:.2;
    }

    /* header/nav */
    .header {
      z-index:1;
    }
    .header nav {
      background: #0f1315;
      box-shadow: 0 2px 6px rgba(0,0,0,0.7);
      display: flex;
      justify-content: center;
      gap: 1rem;
      padding: 0.75rem;
    }
    .nav-button {
      color: var(--text);
      text-decoration: none;
      padding: .4rem .8rem;
      border-bottom: 2px solid transparent;
      transition: color .2s, border-color .2s;
    }
    .nav-button:hover { color: #feb73f }
    .nav-button.active {
      color: #feb73f;
      border-color: #feb73f;
    }

    /* hero */
    header h1 {
      font-size: 1.5rem;
      color: var(--neon);
      text-shadow: 0 0 4px var(--neon), 0 0 8px var(--neon), 0 0 16px var(--neon);
      animation: neon-flicker 3s infinite;
    }
    header p {
      margin-top: .5rem;
      font-size: .8rem;
      color: rgba(224,224,224,0.7);
    }

    /* back button */
    .home-btn {
      display: inline-block;
      margin: 1rem auto 2rem;
      padding: .75rem 1.5rem;
      background: var(--neon);
      color: var(--bg);
      text-decoration: none;
      border-radius: 4px;
      box-shadow: 0 0 8px var(--glow);
      font-size: .7rem;
      transition: transform .1s, box-shadow .2s;
    }
    .home-btn:hover {
      transform: scale(1.05);
      box-shadow: 0 0 16px var(--glow);
    }

    /* grid of assets (hidden until unlocked) */
    #controls { display:none; }

    /* container for intro button */
    .container {
      max-width: 600px;
      margin: 80px auto;
    }
    .hint {
      display: flex;
      justify-content: center;
      gap: .5rem;
      margin-bottom: 1.5rem;
      opacity: .6;
    }
    .hint .arrow {
      animation: pulse 1.2s infinite ease-in-out;
    }
    @keyframes pulse {
      0%,100% { transform: translateY(0); opacity:.6 }
      50%     { transform: translateY(-5px); opacity:1 }
    }
    #activate-btn {
      background: var(--neon);
      color: var(--bg);
      padding: 12px 24px;
      border: none;
      border-radius:6px;
      box-shadow:0 0 10px var(--glow);
      transition: transform .2s, box-shadow .3s;
    }
    #activate-btn:hover {
      transform: scale(1.05);
      box-shadow:0 0 15px var(--glow);
    }
    #secret-content { display:none; }
    #secret-container video {
      width:100%; max-width:600px;
      border-radius:12px;
      box-shadow:0 0 20px rgba(247,127,0,0.5);
    }
    #secret-form {
      display:none;
      max-width:500px;
      margin:20px auto;
      background:var(--panel);
      padding:20px;
      border-radius:12px;
      box-shadow:0 0 20px rgba(247,127,0,0.3);
      text-align:left;
    }
    #secret-form input, #secret-form textarea, #secret-form select {
      width:100%; padding:.5rem; margin-top:.5rem;
      border:none; border-radius:6px; font-size:1rem;
    }
    #secret-form button {
      background: var(--neon);
      color: var(--bg);
      padding:10px 20px;
      border:none; border-radius:6px;
      box-shadow:0 0 10px var(--glow);
      transition: transform .2s, box-shadow .3s;
      margin:1rem auto 0; display:block;
    }
    #secret-form button:hover {
      transform: scale(1.05);
      box-shadow:0 0 15px var(--glow);
    }
  </style>
</head>

<body>

  <!-- floating neon squares -->
  <div class="floaters">
    <script>
      for(let i=0;i<30;i++){
        const d = document.createElement('div');
        const x = Math.random()*100 + 'vw', y = Math.random()*100 + 'vh';
        const dx = (Math.random()*200-100) + 'vw', dy = (Math.random()*200-100) + 'vh';
        d.style.setProperty('--x', x);
        d.style.setProperty('--y', y);
        d.style.setProperty('--dx', dx);
        d.style.setProperty('--dy', dy);
        d.style.animationDelay = (Math.random()*-10) + 's';
        document.body.appendChild(d);
      }
    </script>
  </div>

  <!-- controllers sprinkled -->
  <div id="controller-container">
    <img src="img/controller.png" class="controller" style="top:10%; left:15%;" data-special="false">
    <img src="img/controller.png" class="controller" style="top:25%; left:80%;" data-special="false">
    <img src="img/controller.png" class="controller special" style="top:50%; left:40%;" data-special="true">
    <img src="img/controller.png" class="controller" style="top:70%; left:20%;" data-special="false">
    <img src="img/controller.png" class="controller" style="top:80%; left:65%;" data-special="false">
    <img src="img/controller.png" class="controller" style="top:35%; left:55%;" data-special="false">
  </div>

  <!-- Nav -->
  <div class="header">
    <nav>
      <a href="index.html" class="nav-button">Home</a>
      <a href="buckazoids-meme-gallery.html" class="nav-button">Memes</a>
      <a href="press-kit.html" class="nav-button">Press Kit</a>
      <a href="financials.html" class="nav-button">Financials</a>
      <a href="secret-page.html" class="nav-button active">Secret</a>
    </nav>
  </div>

  <!-- Intro / Activate -->
  <div class="container" id="intro">
    <header>
      <h1>ü§´ Unlock the Secret</h1>
      <p class="hint">
        <span class="arrow">‚Üë</span><span class="arrow">‚Üë</span>
        <span class="arrow">‚Üì</span><span class="arrow">‚Üì</span>
        <span class="arrow">‚Üê</span><span class="arrow">‚Üí</span>
        <span class="arrow">‚Üê</span><span class="arrow">‚Üí</span>
        <span class="arrow">B</span><span class="arrow">A</span>
      </p>
    </header>
    <button id="activate-btn">Activate Secret</button>
  </div>

  <!-- Secret content -->
  <div id="secret-content">
    <div id="secret-container"></div>
    <a href="index.html" class="home-btn">‚Üê BACK TO HOME</a>
    <div id="controls">
      <div id="arrow-pad">
        <div class="row"><button data-key="UP">‚Üë</button></div>
        <div class="row">
          <button data-key="LEFT">‚Üê</button>
          <button data-key="DOWN">‚Üì</button>
          <button data-key="RIGHT">‚Üí</button>
        </div>
      </div>
      <div id="ba-pad">
        <button data-key="B">B</button>
        <button data-key="A">A</button>
      </div>
    </div>
  </div>

  <!-- Konami logic -->
  <script>
    // sprinkle controllers click
    document.querySelectorAll('.controller').forEach(ctrl=>{
      ctrl.addEventListener('click',()=>{
        if(ctrl.dataset.special==='true'){
          document.getElementById('controls').style.display='block';
        }
      });
    });

    // classic Konami
    var Konami=function(cb){
      var k={input:"",pattern:"38384040373937396665",load:function(c){k.cb=c;window.addEventListener("keydown",k.check)},check:function(e){
        k.input+=e.keyCode;
        if(k.input.length>k.pattern.length) k.input=k.input.substr(k.input.length-k.pattern.length);
        if(k.input===k.pattern){ k.cb(); k.input=""; }
      }};
      k.load(cb);
    };

    // mobile sequence buffer
    const mobileSeq=["UP","UP","DOWN","DOWN","LEFT","RIGHT","LEFT","RIGHT","B","A"];
    let mobileBuf=[];

    // activate button shows video+controls
    document.getElementById("activate-btn").onclick =()=>{
      document.getElementById("intro").style.display="none";
      document.getElementById("secret-content").style.display="block";

      document.getElementById("secret-container").innerHTML=`
        <video id="secret-video" src="video/secret-quiz.mp4" muted playsinline></video>
        <form id="secret-form" action="mailto:theoracle@b59.com" method="post" enctype="text/plain">
          <label>Name:<input type="text" name="name" required placeholder="Your name"></label>
          <label>Email:<input type="email" name="email" required placeholder="you@example.com"></label>
          <label>T-Shirt Size:
            <select name="size" required>
              <option value="">Select a size</option>
              <option>S</option><option>M</option><option>L</option><option>XL</option><option>XXL</option>
            </select>
          </label>
          <label>Quiz Answer:<textarea name="answer" required placeholder="Enter your secret answer‚Ä¶"></textarea></label>
          <p style="font-style:italic;">üí´ Good luck, Cypherpunk. The Oracle is watching...</p>
          <button type="submit">Send to the Oracle</button>
        </form>`;

      // show controls
      document.getElementById("controls").style.display="block";

      // wire up Konami
      new Konami(startSecret);

      // wire up mobile pad
      document.querySelectorAll("#controls button").forEach(btn=>{
        btn.onclick=()=>{
          mobileBuf.push(btn.dataset.key);
          if(mobileBuf.length>mobileSeq.length) mobileBuf.shift();
          if(mobileBuf.join("")===mobileSeq.join("")) startSecret();
        };
      });
    };

    function startSecret(){
      const vid=document.getElementById("secret-video");
      vid.play();
      vid.onended=()=> document.getElementById("secret-form").style.display="block";
    }
  </script>
</body>
</html>
