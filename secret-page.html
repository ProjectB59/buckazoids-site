<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>üîí Buckazoids Secret</title>
  <link 
    href="https://fonts.googleapis.com/css2?family=Sora:wght@400;600;700&display=swap" 
    rel="stylesheet"
  />
  <style>
    /* ===== Reset & Base ===== */
    * { margin:0; padding:0; box-sizing:border-box }
    body {
      font-family:'Sora',sans-serif;
      background:#151b1d;
      color:#fff3e2;
      line-height:1.4;
    }
    a, button { font-family:inherit }

    /* ===== Header & Nav ===== */
    .header {
      background:#0f1315;
      padding:20px;
      box-shadow:0 2px 6px rgba(0,0,0,0.7);
    }
    nav {
      display:flex; justify-content:center; gap:1rem;
    }
    .nav-button {
      font-weight:600; padding:.4rem .8rem;
      border-bottom:2px solid transparent;
      color:#fff3e2;
      transition:color .2s, border-color .2s;
    }
    .nav-button:hover { color:#feb73f; }
    .nav-button.active {
      color:#feb73f; border-color:#feb73f;
    }

    /* ===== Intro Container ===== */
    .container {
      max-width:600px;
      margin:80px auto;
      text-align:center;
    }
    .container h1 {
      font-size:2.5rem; margin-bottom:1rem;
    }
    .container p {
      font-size:1.1rem; opacity:.8;
    }

    /* ===== Secret Content ===== */
    #secret-content {
      max-width:600px;
      margin:40px auto;
      text-align:center;
    }
    #secret-container video {
      width:100%;
      border-radius:12px;
      box-shadow:0 0 20px rgba(247,127,0,0.5);
    }
    #secret-form {
      margin-top:2rem;
      display:none;
      background:#02314d;
      padding:20px;
      border-radius:12px;
      box-shadow:0 0 20px rgba(247,127,0,0.3);
    }
    #secret-form label {
      display:block;
      margin-bottom:1rem;
      text-align:left;
      color:#fff3e2;
    }
    #secret-form input[type="email"],
    #secret-form textarea {
      width:100%;
      padding:.5rem;
      border:none;
      border-radius:6px;
      margin-top:.5rem;
      font-size:1rem;
    }
    #secret-form textarea { min-height:100px; resize:vertical; }
    #secret-form button {
      background:#f77f00;
      color:#151b1d;
      font-weight:600;
      padding:10px 20px;
      border:none;
      border-radius:6px;
      box-shadow:0 0 10px rgba(247,127,0,0.8);
      cursor:pointer;
      transition:transform .2s, box-shadow .3s;
      font-size:1rem;
      margin-top:1rem;
    }
    #secret-form button:hover {
      transform:scale(1.05);
      box-shadow:0 0 15px rgba(247,127,0,1);
    }
  </style>
</head>
<body>

  <!-- Header / Nav -->
  <div class="header">
    <nav>
      <a href="index.html" class="nav-button">Home</a>
      <a href="buckazoids-meme-gallery.html" class="nav-button">Memes</a>
      <a href="press-kit.html" class="nav-button">Press Kit</a>
      <a href="financials.html" class="nav-button">Financials</a>
      <a href="#" class="nav-button active">Secret</a>
    </nav>
  </div>

  <!-- Intro -->
  <div class="container">
    <h1>ü§´ Unlock the Secret</h1>
    <p>
      Enter the classic Konami code on your keyboard:
      <strong>‚Üë ‚Üë ‚Üì ‚Üì ‚Üê ‚Üí ‚Üê ‚Üí B A</strong>
    </p>
  </div>

  <!-- Secret video + form placeholder -->
  <div id="secret-content"></div>

  <!-- Konami.js library (v1.7.0) -->
  <script>
  /*!
   * Konami-JS ~ v1.7.0
   * https://github.com/georgemandis/konami-js
   * (c) 2009‚Äì2024 George Mandis ‚Äî MIT License
   */
  var Konami = function(callback) {
    var konami = { input:"", pattern:"38384040373937396665",
      addEvent:function(o,t,f,r){ if(o.addEventListener) o.addEventListener(t,f,false);
        else if(o.attachEvent){ o["e"+t+f]=f; o[t+f]=function(){o["e"+t+f](window.event,r)};o.attachEvent("on"+t,o[t+f]); }},
      removeEvent:function(o,t,f){ if(o.removeEventListener) o.removeEventListener(t,f);
        else if(o.detachEvent) o.detachEvent("on"+t,f); },
      keydownHandler:function(e,r){ if(r) konami=r; konami.input+=(e?e.keyCode:event.keyCode);
        if(konami.input.length>konami.pattern.length)
          konami.input=konami.input.substr(konami.input.length-konami.pattern.length);
        if(konami.input===konami.pattern){ konami.code(konami._currentLink);
          konami.input=""; e.preventDefault(); return false; }},
      load:function(link){ this._currentLink=link; this.addEvent(document,"keydown",this.keydownHandler,this); this.iphone.load(link); },
      unload:function(){ this.removeEvent(document,"keydown",this.keydownHandler); this.iphone.unload(); },
      code:function(link){ window.location=link; },
      iphone:{ start_x:0,start_y:0,stop_x:0,stop_y:0,tap:false,capture:false,
        input:[], keys:["UP","UP","DOWN","DOWN","LEFT","RIGHT","LEFT","RIGHT","TAP","TAP"],
        load:function(link){ konami.addEvent(document,"touchmove",this.touchmoveHandler);
          konami.addEvent(document,"touchend",this.touchendHandler,false);
          konami.addEvent(document,"touchstart",this.touchstartHandler); },
        unload:function(){ konami.removeEvent(document,"touchmove",this.touchmoveHandler);
          konami.removeEvent(document,"touchend",this.touchendHandler);
          konami.removeEvent(document,"touchstart",this.touchstartHandler); },
        touchstartHandler:function(e){ konami.iphone.start_x=e.changedTouches[0].pageX;
          konami.iphone.start_y=e.changedTouches[0].pageY; konami.iphone.tap=true; konami.iphone.capture=true; },
        touchmoveHandler:function(e){ if(e.touches.length===1&&konami.iphone.capture===true){
          var t=e.touches[0]; konami.iphone.stop_x=t.pageX; konami.iphone.stop_y=t.pageY;
          konami.iphone.tap=false; konami.iphone.capture=false; }},
        touchendHandler:function(){ konami.iphone.input.push(konami.iphone.check_direction());
          if(konami.iphone.input.length>konami.iphone.keys.length) konami.iphone.input.shift();
          if(konami.iphone.input.length===konami.iphone.keys.length){
            var m=true;
            for(var i=0;i<konami.iphone.keys.length;i++){
              if(konami.iphone.input[i]!==konami.iphone.keys[i]) m=false;
            }
            if(m) konami.iphone.code(konami._currentLink);
          }
        },
        check_direction:function(){ var xmag=Math.abs(this.start_x-this.stop_x),
          ymag=Math.abs(this.start_y-this.stop_y),
          x=this.start_x-this.stop_x<0?"RIGHT":"LEFT",
          y=this.start_y-this.stop_y<0?"DOWN":"UP";
          return this.tap===true?"TAP":(xmag>ymag?x:y);
        }
      }
    };
    if(typeof callback==="string") konami.load(callback);
    if(typeof callback==="function"){ konami.code=callback; konami.load(); }
    return konami;
  };
  if(typeof module!=="undefined"&&module.exports) module.exports=Konami;
  else if(typeof define==="function"&&define.amd) define([],function(){return Konami;});
  else window.Konami=Konami;
  </script>

  <!-- Your custom hook -->
  <script>
    function showSecret() {
      const container = document.getElementById('secret-content');
      container.innerHTML = `
        <div id="secret-container">
          <video
            id="secret-video"
            src="video/secret-quiz.mp4"
            autoplay muted playsinline
          ></video>
          <form id="secret-form"
            action="mailto:theoracle@projectb59.com"
            method="post"
            enctype="text/plain"
          >
            <label>
              Your Email:
              <input type="email" name="email" required placeholder="you@example.com">
            </label>
            <label>
              Your Answer:
              <textarea name="answer" required placeholder="Type your answers here‚Ä¶"></textarea>
            </label>
            <button type="submit">Send to the Oracle</button>
          </form>
        </div>`;
      // when video ends, reveal the form
      const vid = document.getElementById('secret-video');
      vid.addEventListener('ended', () => {
        document.getElementById('secret-form').style.display = 'block';
      });
    }

    // instantiate Konami with your callback
    new Konami(showSecret);
  </script>
</body>
</html>
